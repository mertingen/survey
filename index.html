  <!DOCTYPE html>
  <html>
    <head>
      <!--Import Google Icon Font-->
      <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
      <!--Import materialize.css-->
      <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>
      <link type="text/css" rel="stylesheet" href="css/custom.css" />

      <!--Let browser know website is optimized for mobile-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    </head>

    <body>
      <center>
        <h5 id="question">Bugün başkanlık sistemi referandumu olsa ne derdiniz?</h5>
      </center>
      <a href="https://twitter.com/share" id="tweet-share" class="twitter-share-button" data-text="Bugün başkanlık sistemi referandumu olsa evet mi derdin, hayır mı?" data-show-count="false">Tweet</a><script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
      <center id="chartCenter">
        <div id="chartdiv"></div>
        <h5 id="total"></h5>
        <a id="yes" class="waves-effect waves-light btn">Evet</a>
        <a id="no" class="waves-effect waves-light btn red">Hayır</a>
      </center>
      <!--Import jQuery before materialize.js-->
      <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
      <script src="https://cdn.socket.io/socket.io-1.4.5.js"></script>
      <script type="text/javascript" src="js/materialize.min.js"></script>

      <!-- Resources -->
      <script src="https://www.amcharts.com/lib/3/amcharts.js"></script>
      <script src="https://www.amcharts.com/lib/3/pie.js"></script>
      <script src="https://www.amcharts.com/lib/3/plugins/export/export.min.js"></script>
      <link rel="stylesheet" href="https://www.amcharts.com/lib/3/plugins/export/export.css" type="text/css" media="all" />
      <script src="https://www.amcharts.com/lib/3/themes/light.js"></script>

        <!-- Chart code -->
        <script>

          $(document).ready( () => {
      
            var socket = io();
            var data = {};
            var chart = AmCharts.makeChart( "chartdiv", {
              "type": "pie",
              "theme": "light",
              "dataProvider": [ {
                "title": "Hayır",
                "value": 1,
                "color": "#F44336"
              }, {
                "title": "Evet",
                "value": 1,
                "color": "#DAA520"
              } ],
              "titleField": "title",
              "valueField": "value",
              "labelRadius": 5,
              "colorField": "color",

              "radius": "42%",
              "innerRadius": "60%",
              "labelText": "[[title]]",
              "export": {
                "enabled": true
              }
            } );

            $('#yes').click( () => {
              socket.emit('dataYes', true);
            });

            $('#no').click( () => {
              socket.emit('dataNo', true);
            });

            socket.on('validYes', (data) => {
              chart.dataProvider[1].value = data.yesCounter;
              $('#total').text('Toplam oy: ' + data.total);
              chart.validateData();
            });

            socket.on('validNo', (data) => {
              chart.dataProvider[0].value = data.noCounter;
              $('#total').text('Toplam oy: ' + data.total);
              chart.validateData();
            });

          });
        </script>
    </body>
  </html>
